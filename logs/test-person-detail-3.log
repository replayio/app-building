
> salescrm@0.0.0 test
> tsx scripts/test.ts tests/person-detail.spec.ts

Killing stale processes...
Cleaning up stale Neon branches...
Creating ephemeral branch: test-worker-1771904643568-l8hr8g
Initializing schema...
Seeding test data...
Seeded 10 clients, 6 contacts, 5 deals, 3 tasks, 2 relationships, 2 contact history entries
Removing stale recordings...
â ™ Initializingâ€¦
All recordings deleted

Running tests: tests/person-detail.spec.ts

[2m[WebServer] [22m[33mâ ‹[39m Waiting for framework dev server to be ready on port 5173
[2m[WebServer] [22m[1G[2m[WebServer] [22m[33mâ ™[39m Waiting for framework dev server to be ready on port 5173
[2m[WebServer] [22m[1G[33mâ ¹[39m Waiting for framework dev server to be ready on port 5173
[2m[WebServer] [22m[32mâˆš[39m framework dev server ready on port 5173

Running 45 tests using 2 workers

[2m[WebServer] [22m(node:3811) [DEP0060] DeprecationWarning: The `util._extend` API is deprecated. Please use Object.assign() instead.
[2m[WebServer] [22m(Use `node --trace-deprecation ...` to show where the warning was created)
  âœ“   2 [chromium] â€º tests/person-detail.spec.ts:29:3 â€º PersonHeader â€º Header displays person's full name prominently (3.6s)
  âœ“   1 [chromium] â€º tests/person-detail.spec.ts:43:3 â€º PersonHeader â€º Header displays title and client associations (3.7s)
  âœ“   3 [chromium] â€º tests/person-detail.spec.ts:66:3 â€º PersonHeader â€º Header displays email with mail icon (1.9s)
  âœ“   4 [chromium] â€º tests/person-detail.spec.ts:81:3 â€º PersonHeader â€º Header displays phone number with phone icon (1.9s)
  âœ“   5 [chromium] â€º tests/person-detail.spec.ts:96:3 â€º PersonHeader â€º Header displays location with location pin icon (1.6s)
  âœ“   6 [chromium] â€º tests/person-detail.spec.ts:111:3 â€º PersonHeader â€º Header displays associated clients as clickable links (2.1s)
  âœ“   7 [chromium] â€º tests/person-detail.spec.ts:132:3 â€º PersonHeader â€º Associated client link navigates to client detail page (2.1s)
  âœ“   8 [chromium] â€º tests/person-detail.spec.ts:147:3 â€º PersonHeader â€º Each associated client link navigates correctly (2.3s)
  âœ“   9 [chromium] â€º tests/person-detail.spec.ts:167:3 â€º RelationshipsSection â€º Relationships section displays heading with icon (1.8s)
  âœ“  10 [chromium] â€º tests/person-detail.spec.ts:181:3 â€º RelationshipsSection â€º Relationships section shows Graph View and List View tabs (1.7s)
  âœ“  11 [chromium] â€º tests/person-detail.spec.ts:193:3 â€º RelationshipsSection â€º List View displays relationship entries with all details (2.0s)
  âœ“  12 [chromium] â€º tests/person-detail.spec.ts:216:3 â€º RelationshipsSection â€º Relationship entry Link navigates to the related person's detail page (2.4s)
  âœ“  13 [chromium] â€º tests/person-detail.spec.ts:233:3 â€º RelationshipsSection â€º Each relationship Link navigates to the correct person (2.1s)
  âœ“  14 [chromium] â€º tests/person-detail.spec.ts:247:3 â€º RelationshipsSection â€º Switching to Graph View tab (2.0s)
  âœ“  15 [chromium] â€º tests/person-detail.spec.ts:264:3 â€º RelationshipsSection â€º Switching back to List View from Graph View (2.3s)
  âœ“  16 [chromium] â€º tests/person-detail.spec.ts:282:3 â€º RelationshipsSection â€º Filter button is displayed in Relationships section (1.8s)
  âœ“  17 [chromium] â€º tests/person-detail.spec.ts:294:3 â€º RelationshipsSection â€º Filter button opens filter options for relationships (2.2s)
  âœ“  18 [chromium] â€º tests/person-detail.spec.ts:313:3 â€º RelationshipsSection â€º Add Entry button is displayed in Relationships section (2.0s)
  âœ“  19 [chromium] â€º tests/person-detail.spec.ts:323:3 â€º RelationshipsSection â€º Add Entry button opens relationship creation form (1.8s)
  âœ“  20 [chromium] â€º tests/person-detail.spec.ts:341:3 â€º RelationshipsSection â€º New relationship entry can be created successfully (3.6s)
  âœ“  21 [chromium] â€º tests/person-detail.spec.ts:377:3 â€º RelationshipsSection â€º Add Entry form validates required fields (2.2s)
  âœ“  22 [chromium] â€º tests/person-detail.spec.ts:419:3 â€º RelationshipsSection â€º Relationships section shows empty state when no relationships exist (1.8s)
  âœ“  23 [chromium] â€º tests/person-detail.spec.ts:396:3 â€º RelationshipsSection â€º Add Entry form can be cancelled (2.4s)
  âœ“  24 [chromium] â€º tests/person-detail.spec.ts:435:3 â€º ContactHistorySection â€º Contact History section displays heading with icon (1.7s)
  âœ“  25 [chromium] â€º tests/person-detail.spec.ts:449:3 â€º ContactHistorySection â€º Contact History shows chronological log entries (2.0s)
  âœ“  26 [chromium] â€º tests/person-detail.spec.ts:469:3 â€º ContactHistorySection â€º Contact History displays various interaction types (1.8s)
  âœ“  27 [chromium] â€º tests/person-detail.spec.ts:482:3 â€º ContactHistorySection â€º Contact History entries show team member with role (2.1s)
  âœ“  28 [chromium] â€º tests/person-detail.spec.ts:494:3 â€º ContactHistorySection â€º Contact History entry edit icon opens edit form (2.0s)
  âœ“  29 [chromium] â€º tests/person-detail.spec.ts:512:3 â€º ContactHistorySection â€º Contact History entry edit saves changes (2.9s)
  âœ“  30 [chromium] â€º tests/person-detail.spec.ts:539:3 â€º ContactHistorySection â€º Contact History entry edit can be cancelled (2.8s)
  âœ“  31 [chromium] â€º tests/person-detail.spec.ts:567:3 â€º ContactHistorySection â€º Filter button is displayed in Contact History section (1.8s)
  âœ“  32 [chromium] â€º tests/person-detail.spec.ts:577:3 â€º ContactHistorySection â€º Filter button opens filter options for contact history (2.2s)
  âœ“  33 [chromium] â€º tests/person-detail.spec.ts:597:3 â€º ContactHistorySection â€º Add Entry button is displayed in Contact History section (1.7s)
  âœ“  34 [chromium] â€º tests/person-detail.spec.ts:607:3 â€º ContactHistorySection â€º Add Entry button opens contact history creation form (2.1s)
  âœ“  35 [chromium] â€º tests/person-detail.spec.ts:625:3 â€º ContactHistorySection â€º New contact history entry can be created successfully (3.4s)
  âœ“  36 [chromium] â€º tests/person-detail.spec.ts:664:3 â€º ContactHistorySection â€º Add Entry form validates required fields (2.3s)
  âœ“  37 [chromium] â€º tests/person-detail.spec.ts:683:3 â€º ContactHistorySection â€º Add Entry form can be cancelled (2.1s)
  âœ“  38 [chromium] â€º tests/person-detail.spec.ts:707:3 â€º ContactHistorySection â€º Contact History section shows empty state when no history exists (2.2s)
  âœ“  39 [chromium] â€º tests/person-detail.spec.ts:723:3 â€º AssociatedClientsSection â€º Associated Clients section displays heading with icon (1.7s)
  âœ“  40 [chromium] â€º tests/person-detail.spec.ts:737:3 â€º AssociatedClientsSection â€º Associated Clients shows client cards with all details (2.0s)
  âœ“  41 [chromium] â€º tests/person-detail.spec.ts:758:3 â€º AssociatedClientsSection â€º Client card displays correct status for each client (1.8s)
  âœ“  42 [chromium] â€º tests/person-detail.spec.ts:775:3 â€º AssociatedClientsSection â€º Client card displays correct industry for each client (2.0s)
  âœ“  43 [chromium] â€º tests/person-detail.spec.ts:793:3 â€º AssociatedClientsSection â€º View Client Detail Page button navigates to client detail page (2.4s)
  âœ“  44 [chromium] â€º tests/person-detail.spec.ts:806:3 â€º AssociatedClientsSection â€º Each View Client Detail Page button navigates correctly (2.0s)
  âœ“  45 [chromium] â€º tests/person-detail.spec.ts:824:3 â€º AssociatedClientsSection â€º Associated Clients section shows empty state when no clients exist (1.8s)
[replay.io]: Finishing up. This should only take a moment ...


  45 passed (1.1m)

Cleaning up...
Deleting branch: test-worker-1771904643568-l8hr8g
â ™ Initializingâ€¦
All recordings deleted
