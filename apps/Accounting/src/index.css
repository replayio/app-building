@import "@shared/styles/tokens.css";
@import "@shared/styles/layout.css";
@import "@shared/styles/common.css";
@import "@shared/components/CategorySection.css";

/* App-specific variables */
:root {
  /* Budget progress bar colors */
  --budget-bar-bg: #e3dfda;
  --budget-bar-fill: var(--accent-primary);
  --budget-bar-fill-warning: var(--status-warning);
  --budget-bar-fill-over: var(--status-error);

  /* Performance indicator */
  --performance-positive: var(--status-success);
  --performance-negative: var(--status-error);

  /* Card styles */
  --card-bg: #ffffff;
  --card-border: var(--bg-border-color-light);
  --card-hover-bg: #fdfcfb;

  /* Badge colors */
  --badge-complete-bg: #e6ede8;
  --badge-complete-text: var(--accent-primary);
  --badge-pending-bg: #f5f0e3;
  --badge-pending-text: var(--status-warning);
}

/* NavBar styles */
.navbar {
  display: flex;
  align-items: center;
  height: 56px;
  padding: 0 24px;
  background: var(--bg-base-color);
  border-bottom: 1px solid var(--bg-border-color);
  gap: 24px;
}

.navbar-logo {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
  letter-spacing: 0.04em;
  cursor: pointer;
  white-space: nowrap;
}

.navbar-links {
  display: flex;
  align-items: center;
  gap: 4px;
  flex: 1;
}

.navbar-link {
  display: inline-flex;
  align-items: center;
  height: 32px;
  padding: 0 12px;
  font-size: 14px;
  font-weight: 450;
  color: var(--text-secondary);
  background: transparent;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.1s ease, color 0.15s ease;
  text-decoration: none;
}

.navbar-link:hover {
  background: rgba(50, 45, 35, 0.06);
  color: var(--text-primary);
}

.navbar-link--active {
  color: var(--text-primary);
  font-weight: 500;
  background: var(--accent-subtle-bg);
}

.navbar-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.navbar-btn-new-transaction {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  height: 32px;
  padding: 0 14px;
  font-size: 13px;
  font-weight: 500;
  color: var(--text-on-dark);
  background: var(--accent-primary);
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.15s ease;
  white-space: nowrap;
}

.navbar-btn-new-transaction:hover {
  background: var(--accent-dark);
}

.navbar-user {
  display: flex;
  align-items: center;
  gap: 8px;
}

.navbar-avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: var(--accent-muted);
  color: var(--text-on-dark);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 600;
  flex-shrink: 0;
}

.navbar-user-name {
  font-size: 13px;
  font-weight: 450;
  color: var(--text-secondary);
}

.navbar-logout-btn {
  display: inline-flex;
  align-items: center;
  height: 32px;
  padding: 0 12px;
  font-size: 13px;
  font-weight: 400;
  color: var(--text-muted);
  background: transparent;
  border: 1px solid var(--bg-border-color);
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.1s ease, color 0.15s ease, border-color 0.1s ease;
}

.navbar-logout-btn:hover {
  background: rgba(50, 45, 35, 0.06);
  color: var(--text-primary);
  border-color: var(--normal-border-hover);
}

/* Generate Reports button */
.btn-generate-reports {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  height: 36px;
  padding: 0 16px;
  font-size: 13px;
  font-weight: 450;
  color: var(--text-secondary);
  background: var(--bg-base-color);
  border: 1px solid var(--bg-border-color);
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.1s ease, border-color 0.1s ease;
}

.btn-generate-reports:hover {
  background: rgba(50, 45, 35, 0.04);
  border-color: var(--normal-border-hover);
}

/* Account cards */
.account-cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 12px;
  padding: 4px 8px 8px;
}

.account-card {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 6px;
  padding: 16px;
  cursor: pointer;
  transition: background-color 0.1s ease, box-shadow 0.15s ease;
  position: relative;
}

.account-card:hover {
  background: var(--card-hover-bg);
  box-shadow: var(--shadow-elevation-1);
}

.account-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
}

.account-card-name {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-primary);
}

.account-card-menu-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  background: transparent;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  color: var(--text-muted);
  transition: background-color 0.1s ease;
  position: relative;
  z-index: 2;
}

.account-card-menu-btn:hover {
  background: rgba(50, 45, 35, 0.08);
}

.account-card-balance {
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 8px;
}

.account-card-balance-amount {
  font-weight: 500;
  font-variant-numeric: tabular-nums;
}

.account-card-ytd {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 10px;
}

.account-card-ytd-item {
  font-variant-numeric: tabular-nums;
}

/* Budget progress bar */
.budget-bar-section {
  margin-top: 8px;
}

.budget-bar-label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 4px;
}

.budget-bar-track {
  width: 100%;
  height: 6px;
  background: var(--budget-bar-bg);
  border-radius: 3px;
  overflow: hidden;
}

.budget-bar-fill {
  height: 100%;
  border-radius: 3px;
  background: var(--budget-bar-fill);
  transition: width 0.3s ease;
}

.budget-bar-fill--warning {
  background: var(--budget-bar-fill-warning);
}

.budget-bar-fill--over {
  background: var(--budget-bar-fill-over);
}

/* View Budget Details link */
.account-card-link {
  display: inline-block;
  font-size: 12px;
  font-weight: 450;
  color: var(--accent-primary);
  text-decoration: none;
  margin-top: 8px;
  cursor: pointer;
  transition: color 0.1s ease;
}

.account-card-link:hover {
  color: var(--accent-dark);
}

/* Performance indicator */
.performance-indicator {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 13px;
  font-weight: 500;
  margin-top: 4px;
}

.performance-indicator--positive {
  color: var(--performance-positive);
}

.performance-indicator--negative {
  color: var(--performance-negative);
}

/* Savings goal */
.savings-goal {
  margin-top: 8px;
}

.savings-goal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 4px;
}

/* Credit limit usage */
.credit-limit-usage {
  font-size: 12px;
  color: var(--text-muted);
  margin-top: 6px;
}

/* Account detail specific */
.account-detail-info {
  font-size: 13px;
  color: var(--text-muted);
  margin-top: 4px;
}

/* Account Detail Page — Header */
.account-detail-breadcrumb {
  margin-bottom: 8px;
}

.account-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 20px;
}

.account-header-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.account-header-name {
  font-size: 22px;
  font-weight: 600;
  color: var(--text-primary);
}

.account-header-category {
  font-size: 13px;
  font-weight: 400;
  color: var(--text-muted);
}

.account-header-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.account-header-search {
  position: relative;
  display: flex;
  align-items: center;
}

.account-header-search-icon {
  position: absolute;
  left: 10px;
  color: var(--text-muted);
  pointer-events: none;
}

.account-header-search-input {
  height: 36px;
  width: 240px;
  padding: 0 32px 0 30px;
  font-size: 13px;
  font-family: var(--font-family);
  color: var(--text-primary);
  background: var(--bg-base-color);
  border: 1px solid var(--normal-border);
  border-radius: 4px;
  outline: none;
  transition: border-color 0.15s ease;
}

.account-header-search-input:focus {
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 2px rgba(77, 124, 94, 0.15);
}

.account-header-search-input::placeholder {
  color: var(--text-disabled);
}

.account-header-search-clear {
  position: absolute;
  right: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  border: none;
  background: transparent;
  cursor: pointer;
  color: var(--text-muted);
  border-radius: 4px;
  transition: background-color 0.1s ease;
}

.account-header-search-clear:hover {
  background: rgba(50, 45, 35, 0.08);
}

/* Account Detail Page — Budget Overview */
.budget-overview {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 6px;
  padding: 16px;
  margin-bottom: 20px;
}

.budget-overview-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.budget-overview-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-primary);
}

.budget-overview-pct {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-muted);
  font-variant-numeric: tabular-nums;
}

.budget-overview-bar-track {
  width: 100%;
  height: 8px;
  background: var(--budget-bar-bg);
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 8px;
}

.budget-overview-bar-fill {
  height: 100%;
  border-radius: 4px;
  background: var(--budget-bar-fill);
  transition: width 0.3s ease;
}

.budget-overview-bar-fill--warning {
  background: var(--budget-bar-fill-warning);
}

.budget-overview-bar-fill--over {
  background: var(--budget-bar-fill-over);
}

.budget-overview-amounts {
  font-size: 13px;
  color: var(--text-secondary);
  font-variant-numeric: tabular-nums;
}

/* Account Detail Page — Tabs section */
.account-detail-tabs {
  margin-bottom: 24px;
}

/* Transaction table */
.transactions-table-wrapper {
  overflow-x: auto;
}

.transactions-empty {
  padding: 32px 0;
  text-align: center;
  font-size: 13px;
  color: var(--text-muted);
}

.transaction-direction {
  display: inline-flex;
  align-items: center;
  height: 22px;
  padding: 0 8px;
  font-size: 11px;
  font-weight: 500;
  border-radius: 11px;
}

.transaction-direction--debit {
  background: #f5e3e3;
  color: var(--status-error);
}

.transaction-direction--credit {
  background: #e6ede8;
  color: var(--status-success);
}

.transaction-action-link {
  font-size: 13px;
  font-weight: 450;
  color: var(--accent-primary);
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  transition: color 0.1s ease;
}

.transaction-action-link:hover {
  color: var(--accent-dark);
}

/* Budget Details Tab */
.budget-details-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.budget-details-empty {
  padding: 32px 0;
  text-align: center;
  font-size: 13px;
  color: var(--text-muted);
}

.budget-detail-item {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 6px;
  padding: 12px 16px;
}

.budget-detail-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.budget-detail-name {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-primary);
}

.budget-detail-amounts {
  font-size: 13px;
  color: var(--text-secondary);
  font-variant-numeric: tabular-nums;
}

.budget-detail-bar-track {
  width: 100%;
  height: 6px;
  background: var(--budget-bar-bg);
  border-radius: 3px;
  overflow: hidden;
}

.budget-detail-bar-fill {
  height: 100%;
  border-radius: 3px;
  background: var(--budget-bar-fill);
  transition: width 0.3s ease;
}

.budget-detail-bar-fill--warning {
  background: var(--budget-bar-fill-warning);
}

.budget-detail-bar-fill--over {
  background: var(--budget-bar-fill-over);
}

/* Reporting Links */
.reporting-links {
  margin-top: 8px;
}

.reporting-links-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 12px;
}

.reporting-links-list {
  display: flex;
  gap: 12px;
}

.reporting-link {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  height: 36px;
  padding: 0 16px;
  font-size: 13px;
  font-weight: 450;
  color: var(--accent-primary);
  background: var(--bg-base-color);
  border: 1px solid var(--bg-border-color);
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.1s ease, border-color 0.1s ease, color 0.1s ease;
}

.reporting-link:hover {
  background: var(--accent-subtle-bg);
  border-color: var(--accent-primary);
  color: var(--accent-dark);
}

/* Modal overlay */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background: var(--card-bg);
  border-radius: 8px;
  box-shadow: var(--shadow-elevation-2);
  width: 90%;
  max-width: 720px;
  max-height: 90vh;
  overflow-y: auto;
  padding: 24px;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.modal-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
}

.modal-close-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: transparent;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  color: var(--text-muted);
  transition: background-color 0.1s ease;
}

.modal-close-btn:hover {
  background: rgba(50, 45, 35, 0.08);
}

.modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 20px;
  padding-top: 16px;
  border-top: 1px solid var(--bg-border-color-light);
}

/* Tabs */
.tabs {
  display: flex;
  gap: 0;
  border-bottom: 1px solid var(--bg-border-color);
  margin-bottom: 16px;
}

.tab {
  display: inline-flex;
  align-items: center;
  height: 40px;
  padding: 0 16px;
  font-size: 14px;
  font-weight: 450;
  color: var(--text-muted);
  background: transparent;
  border: none;
  border-bottom: 2px solid transparent;
  cursor: pointer;
  transition: color 0.15s ease, border-color 0.15s ease;
}

.tab:hover {
  color: var(--text-primary);
}

.tab--active {
  color: var(--text-primary);
  font-weight: 500;
  border-bottom-color: var(--accent-primary);
}

/* Tags input */
.tags-container {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  padding: 8px 10px;
  min-height: 36px;
  background: var(--bg-base-color);
  border: 1px solid var(--normal-border);
  border-radius: 4px;
  align-items: center;
}

.tag {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  height: 22px;
  padding: 0 8px;
  font-size: 12px;
  font-weight: 450;
  color: var(--accent-primary);
  background: var(--accent-subtle-bg);
  border-radius: 11px;
}

.tag-remove {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 14px;
  height: 14px;
  border: none;
  background: transparent;
  cursor: pointer;
  color: var(--accent-muted);
  font-size: 10px;
  padding: 0;
}

.tag-remove:hover {
  color: var(--accent-dark);
}

.tags-input {
  border: none;
  outline: none;
  background: transparent;
  font-size: 13px;
  font-family: var(--font-family);
  color: var(--text-primary);
  flex: 1;
  min-width: 80px;
}

.tags-input::placeholder {
  color: var(--text-disabled);
}

/* Transaction header fields row layout */
.transaction-header-fields {
  display: flex;
  gap: 12px;
  margin-bottom: 16px;
}

.transaction-header-fields .form-group {
  margin-bottom: 0;
  flex: 1;
}

.transaction-header-fields .transaction-header-fields-description {
  flex: 2;
}

/* Section heading for line items */
.line-items-section-heading {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 8px;
}

/* Optional indicator in form labels */
.form-label-optional {
  font-weight: 400;
  color: var(--text-disabled);
}

/* Accounting-specific line items grid columns */
.line-items-header,
.line-item-row {
  grid-template-columns: 1fr 120px 140px 36px;
}

/* Badge aliases for Accounting */
.badge--complete {
  background: var(--badge-complete-bg);
  color: var(--badge-complete-text);
}

.badge--pending {
  background: var(--badge-pending-bg);
  color: var(--badge-pending-text);
}

/* Footer */
.app-footer {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 16px 24px;
  font-size: 12px;
  color: var(--text-disabled);
  border-top: 1px solid var(--bg-border-color-light);
}

.app-footer a {
  color: var(--text-muted);
  text-decoration: none;
  transition: color 0.1s ease;
}

.app-footer a:hover {
  color: var(--text-primary);
}

/* Account cards grid layout within category sections */
[data-testid="accounts-page"] .category-section-content {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 12px;
  padding: 4px 8px 8px;
}

/* ===== CreateReportDialog ===== */

/* Two-panel layout */
.create-report-dialog-body {
  display: grid;
  grid-template-columns: 340px 1fr;
  gap: 24px;
  min-height: 480px;
}

.create-report-dialog-left {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.create-report-dialog-right {
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.create-report-dialog .modal-content {
  max-width: 960px;
}

.create-report-dialog-subtitle {
  font-size: 13px;
  color: var(--text-muted);
  margin-top: -12px;
  margin-bottom: 4px;
}

.create-report-dialog-report-name {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-primary);
  margin-bottom: 8px;
}

.create-report-settings-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 4px;
}

/* Report Type Selector tabs */
.report-type-tabs {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 8px;
}

.report-type-tab {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  padding: 12px 8px;
  background: transparent;
  border: 1px solid var(--bg-border-color);
  border-radius: 6px;
  cursor: pointer;
  color: var(--text-muted);
  transition: background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease;
  font-family: var(--font-family);
}

.report-type-tab:hover {
  background: rgba(50, 45, 35, 0.04);
  border-color: var(--normal-border-hover);
  color: var(--text-secondary);
}

.report-type-tab--active {
  background: var(--accent-subtle-bg);
  border-color: var(--accent-primary);
  color: var(--accent-primary);
}

.report-type-tab--active:hover {
  background: var(--accent-subtle-bg);
  border-color: var(--accent-primary);
  color: var(--accent-primary);
}

.report-type-tab-label {
  font-size: 12px;
  font-weight: 500;
  text-align: center;
  line-height: 1.3;
}

/* Date Range Selector */
.date-range-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.date-range-field {
  position: relative;
}

.date-range-field .form-input {
  width: 100%;
  padding-left: 32px;
}

.date-range-icon {
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  pointer-events: none;
  display: flex;
  align-items: center;
}

.date-range-presets {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.date-range-preset-btn {
  display: inline-flex;
  align-items: center;
  height: 28px;
  padding: 0 12px;
  font-size: 12px;
  font-weight: 450;
  font-family: var(--font-family);
  color: var(--text-secondary);
  background: transparent;
  border: 1px solid var(--bg-border-color);
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.1s ease, border-color 0.1s ease;
  flex: 1;
  justify-content: center;
}

.date-range-preset-btn:hover {
  background: rgba(50, 45, 35, 0.06);
  border-color: var(--normal-border-hover);
}

/* Account Category Filter */
.category-filter-tree {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.category-filter-item {
  display: flex;
  align-items: center;
  gap: 6px;
  height: 32px;
  padding: 0 4px;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.1s ease;
}

.category-filter-item:hover {
  background: rgba(50, 45, 35, 0.04);
}

.category-filter-expand {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--text-muted);
  border-radius: 4px;
  padding: 0;
  flex-shrink: 0;
  transition: transform 0.15s ease, background-color 0.1s ease;
}

.category-filter-expand:hover {
  background: rgba(50, 45, 35, 0.08);
}

.category-filter-expand--expanded {
  transform: rotate(90deg);
}

.category-filter-expand--hidden {
  visibility: hidden;
}

.category-filter-checkbox {
  width: 16px;
  height: 16px;
  border: 1.5px solid var(--bg-border-color);
  border-radius: 3px;
  background: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  padding: 0;
  transition: background-color 0.1s ease, border-color 0.1s ease;
  font-family: var(--font-family);
}

.category-filter-checkbox--checked {
  background: var(--accent-primary);
  border-color: var(--accent-primary);
}

.category-filter-checkbox--indeterminate {
  background: var(--accent-muted);
  border-color: var(--accent-muted);
}

.category-filter-label {
  font-size: 13px;
  font-weight: 450;
  color: var(--text-secondary);
  cursor: pointer;
  user-select: none;
}

.category-filter-sublabel {
  font-size: 13px;
  font-weight: 400;
  color: var(--text-secondary);
  cursor: pointer;
  user-select: none;
}

.category-filter-children {
  padding-left: 26px;
}

/* Toggle switch */
.toggle-switch {
  position: relative;
  display: inline-flex;
  align-items: center;
  width: 36px;
  height: 20px;
  flex-shrink: 0;
}

.toggle-switch-input {
  opacity: 0;
  width: 0;
  height: 0;
  position: absolute;
}

.toggle-switch-slider {
  position: absolute;
  inset: 0;
  background: var(--bg-border-color);
  border-radius: 10px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.toggle-switch-slider::before {
  content: "";
  position: absolute;
  left: 2px;
  top: 2px;
  width: 16px;
  height: 16px;
  background: white;
  border-radius: 50%;
  transition: transform 0.2s ease;
}

.toggle-switch-input:checked + .toggle-switch-slider {
  background: var(--accent-primary);
}

.toggle-switch-input:checked + .toggle-switch-slider::before {
  transform: translateX(16px);
}

.zero-balance-toggle {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 8px;
}

.zero-balance-toggle-label {
  font-size: 13px;
  font-weight: 400;
  color: var(--text-secondary);
  cursor: pointer;
  user-select: none;
}

/* Report Preview panel */
.report-preview-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.report-preview-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}

.report-preview-refresh-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  height: 28px;
  padding: 0 10px;
  font-size: 12px;
  font-weight: 450;
  font-family: var(--font-family);
  color: var(--text-muted);
  background: transparent;
  border: 1px solid var(--bg-border-color);
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.1s ease, border-color 0.1s ease;
}

.report-preview-refresh-btn:hover {
  background: rgba(50, 45, 35, 0.06);
  border-color: var(--normal-border-hover);
}

.report-preview-table-wrapper {
  flex: 1;
  overflow-y: auto;
  overflow-x: auto;
  border: 1px solid var(--bg-border-color-light);
  border-radius: 6px;
}

.report-preview-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.report-preview-table th {
  text-align: left;
  font-size: 12px;
  font-weight: 500;
  color: var(--text-muted);
  padding: 8px 12px;
  border-bottom: 1px solid var(--bg-border-color);
  background: var(--bg-base-color);
  position: sticky;
  top: 0;
}

.report-preview-table th:not(:first-child) {
  text-align: right;
}

.report-preview-table td {
  padding: 8px 12px;
  color: var(--text-secondary);
  border-bottom: 1px solid var(--bg-border-color-light);
  font-variant-numeric: tabular-nums;
}

.report-preview-table td:not(:first-child) {
  text-align: right;
}

.report-preview-table tr:hover td {
  background: rgba(50, 45, 35, 0.03);
}

.report-preview-row--summary td {
  font-weight: 600;
  color: var(--text-primary);
}

.report-preview-row--expandable {
  cursor: pointer;
}

.report-preview-row-name {
  display: flex;
  align-items: center;
  gap: 6px;
}

.report-preview-expand-icon {
  display: inline-flex;
  align-items: center;
  color: var(--text-muted);
  transition: transform 0.15s ease;
  flex-shrink: 0;
}

.report-preview-expand-icon--expanded {
  transform: rotate(90deg);
}

.report-preview-account-link {
  color: var(--accent-primary);
  text-decoration: none;
  cursor: pointer;
  font-weight: 450;
}

.report-preview-account-link:hover {
  color: var(--accent-dark);
  text-decoration: underline;
}

.report-preview-sub-row td:first-child {
  padding-left: 36px;
}

.report-preview-empty {
  padding: 32px;
  text-align: center;
  font-size: 13px;
  color: var(--text-muted);
}

.report-preview-variance--positive {
  color: var(--status-success);
}

.report-preview-variance--negative {
  color: var(--status-error);
}

/* ===== ReportDetailsPage ===== */

.report-details-page {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.p-6 {
  padding: 24px;
}

.flex-wrap {
  flex-wrap: wrap;
}

@media (max-width: 640px) {
  .max-sm\:p-3 {
    padding: 12px;
  }

  .max-sm\:hidden {
    display: none;
  }
}

/* ReportHeader */
.report-header {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.report-header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
}

.report-header-title {
  font-size: 22px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.report-header-actions {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
}

/* VarianceSummary */
.variance-summary-card {
  display: flex;
  align-items: center;
  gap: 32px;
  padding: 20px 24px;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 6px;
}

.variance-summary-metric {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.variance-summary-label {
  font-size: 12px;
  font-weight: 500;
  color: var(--text-muted);
}

.variance-summary-value {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  font-variant-numeric: tabular-nums;
}

.variance-summary-value--negative {
  color: var(--status-error);
}

.variance-summary-value--positive {
  color: var(--status-success);
}

.variance-arrow {
  font-size: 14px;
}

.variance-summary-amount {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  font-variant-numeric: tabular-nums;
}

.variance-summary-chart {
  margin-left: auto;
  flex-shrink: 0;
}

/* VarianceChart */
.variance-chart-section {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.variance-chart-heading {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.variance-chart-subtitle {
  font-size: 13px;
  color: var(--text-muted);
  margin: 0;
}

.variance-chart-container {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 6px;
  padding: 16px;
  margin-top: 8px;
}

.variance-chart-svg {
  display: block;
  width: 100%;
  height: auto;
}

.variance-chart-empty {
  text-align: center;
  padding: 32px;
  font-size: 13px;
  color: var(--text-muted);
}

/* DetailedReportTable */
.detailed-report-section {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.detailed-report-heading {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.detailed-report-table-wrapper {
  overflow-x: auto;
  border: 1px solid var(--card-border);
  border-radius: 6px;
}

.detailed-report-data-table th {
  white-space: nowrap;
}

.detailed-report-name-cell {
  display: flex;
  align-items: center;
  gap: 6px;
}

.detailed-report-expand-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  background: transparent;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  color: var(--text-muted);
  flex-shrink: 0;
  padding: 0;
  transition: background-color 0.1s ease;
}

.detailed-report-expand-btn:hover {
  background: rgba(50, 45, 35, 0.08);
}

.detailed-report-expand-btn--hidden {
  visibility: hidden;
}

.detailed-report-chevron--expanded {
  transform: rotate(90deg);
  transition: transform 0.15s ease;
}

.detailed-report-item-name {
  font-weight: 500;
  color: var(--text-primary);
}

.detailed-report-item-label {
  font-size: 12px;
  font-weight: 400;
  color: var(--text-muted);
}

.detailed-report-subitem-row td:first-child {
  padding-left: 48px;
}

.detailed-report-subitem-name-cell {
  display: flex;
  align-items: center;
  gap: 4px;
}

.detailed-report-view-btn {
  height: 28px;
  font-size: 12px;
  padding: 0 10px;
}

/* Variance color helpers */
.report-variance--negative {
  color: var(--status-error);
}

.report-variance--positive {
  color: var(--status-success);
}

.report-error {
  color: var(--status-error);
  font-size: 14px;
}

/* ===== ReportListPage ===== */

/* ReportListHeader */
.report-list-header {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 20px;
}

.report-list-header-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

.report-list-header-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.report-list-search {
  position: relative;
  display: flex;
  align-items: center;
}

.report-list-search-icon {
  position: absolute;
  left: 10px;
  color: var(--text-muted);
  pointer-events: none;
}

.report-list-search-input {
  height: 36px;
  width: 240px;
  padding: 0 12px 0 32px;
  font-size: 13px;
  font-family: var(--font-family);
  color: var(--text-primary);
  background: var(--bg-base-color);
  border: 1px solid var(--normal-border);
  border-radius: 4px;
  outline: none;
  transition: border-color 0.15s ease;
}

.report-list-search-input:focus {
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 2px rgba(77, 124, 94, 0.15);
}

.report-list-search-input::placeholder {
  color: var(--text-disabled);
}

/* ReportTable */
.report-table-wrapper {
  overflow-x: auto;
  border: 1px solid var(--card-border);
  border-radius: 6px;
}

.report-table-sortable-header {
  cursor: pointer;
  user-select: none;
}

.report-table-sort-label {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.report-table-sort-arrow {
  font-size: 12px;
  color: var(--text-muted);
}

.report-table-empty {
  padding: 48px 0;
  text-align: center;
  font-size: 14px;
  color: var(--text-muted);
}

.report-actions-row {
  display: flex;
  align-items: center;
  gap: 8px;
}

.report-action-icon-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: transparent;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  color: var(--text-muted);
  transition: background-color 0.1s ease, color 0.1s ease;
}

.report-action-icon-btn:hover {
  background: rgba(50, 45, 35, 0.08);
  color: var(--text-primary);
}

.report-view-link {
  font-size: 13px;
  font-weight: 450;
  color: var(--accent-primary);
  text-decoration: none;
  cursor: pointer;
  transition: color 0.1s ease;
  white-space: nowrap;
}

.report-view-link:hover {
  color: var(--accent-dark);
}

/* ===== TransactionsTable ===== */

.transactions-table-sortable-header {
  cursor: pointer;
  user-select: none;
}

.transactions-table-sort-label {
  display: inline-flex;
  align-items: center;
  gap: 2px;
}

.transactions-table-sort-arrow {
  font-size: 12px;
  color: var(--text-muted);
}

.transactions-table-row {
  cursor: pointer;
  transition: background-color 0.1s ease;
}

.transactions-table-row:hover td {
  background: rgba(50, 45, 35, 0.04);
}

.transactions-table-amount {
  font-variant-numeric: tabular-nums;
}

.transactions-table-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
}

.transactions-table-no-tags {
  color: var(--text-disabled);
}

/* ===== TransactionsPage ===== */

.transactions-page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.transactions-page-title {
  font-size: 22px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.transactions-page-filter-bar {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.transactions-page-filter-bar .date-range-field {
  min-width: 130px;
}

.transactions-page-filter-bar .date-range-field .form-input {
  height: 36px;
  font-size: 13px;
}

/* Custom dropdown used in filters */
.filter-dropdown {
  position: relative;
  min-width: 140px;
}

.filter-dropdown-trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  height: 36px;
  padding: 0 12px;
  font-size: 13px;
  font-weight: 400;
  font-family: var(--font-family);
  color: var(--text-primary);
  background: var(--bg-base-color);
  border: 1px solid var(--normal-border);
  border-radius: 4px;
  cursor: pointer;
  transition: border-color 0.15s ease;
  white-space: nowrap;
  width: 100%;
}

.filter-dropdown-trigger:focus {
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 2px rgba(77, 124, 94, 0.15);
  outline: none;
}

.filter-dropdown-trigger:hover {
  border-color: var(--normal-border-hover);
}

.filter-dropdown-chevron {
  color: var(--text-muted);
  flex-shrink: 0;
}

.filter-dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  margin-top: 4px;
  background: var(--card-bg);
  border: 1px solid var(--bg-border-color);
  border-radius: 6px;
  box-shadow: var(--shadow-elevation-2);
  z-index: 50;
  max-height: 240px;
  overflow-y: auto;
  min-width: 100%;
}

.filter-dropdown-option {
  display: block;
  width: 100%;
  padding: 8px 12px;
  font-size: 13px;
  font-family: var(--font-family);
  color: var(--text-secondary);
  background: transparent;
  border: none;
  text-align: left;
  cursor: pointer;
  transition: background-color 0.1s ease;
}

.filter-dropdown-option:hover {
  background: rgba(50, 45, 35, 0.06);
  color: var(--text-primary);
}

.filter-dropdown-option--active {
  color: var(--accent-primary);
  font-weight: 500;
}

.filter-dropdown-group-label {
  padding: 6px 12px 2px;
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

/* Search bar in filter row */
.transactions-search-bar {
  position: relative;
  display: flex;
  align-items: center;
  flex: 1;
  min-width: 160px;
}

.transactions-search-icon {
  position: absolute;
  left: 10px;
  color: var(--text-muted);
  pointer-events: none;
}

.transactions-search-input {
  height: 36px;
  width: 100%;
  padding: 0 12px 0 32px;
  font-size: 13px;
  font-family: var(--font-family);
  color: var(--text-primary);
  background: var(--bg-base-color);
  border: 1px solid var(--normal-border);
  border-radius: 4px;
  outline: none;
  transition: border-color 0.15s ease;
}

.transactions-search-input:focus {
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 2px rgba(77, 124, 94, 0.15);
}

.transactions-search-input::placeholder {
  color: var(--text-disabled);
}

/* Pagination */
.transactions-pagination {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 16px;
  padding-top: 12px;
  border-top: 1px solid var(--bg-border-color-light);
}

.transactions-pagination-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: transparent;
  border: 1px solid var(--bg-border-color);
  border-radius: 4px;
  cursor: pointer;
  color: var(--text-secondary);
  transition: background-color 0.1s ease, border-color 0.1s ease;
}

.transactions-pagination-btn:hover:not(:disabled) {
  background: rgba(50, 45, 35, 0.06);
  border-color: var(--normal-border-hover);
}

.transactions-pagination-btn:disabled {
  color: var(--text-disabled);
  cursor: default;
  opacity: 0.5;
}

.transactions-pagination-pages {
  display: flex;
  align-items: center;
  gap: 2px;
}

.transactions-pagination-page {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 32px;
  height: 32px;
  padding: 0 6px;
  background: transparent;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 450;
  font-family: var(--font-family);
  color: var(--text-secondary);
  transition: background-color 0.1s ease;
}

.transactions-pagination-page:hover {
  background: rgba(50, 45, 35, 0.06);
}

.transactions-pagination-page--active {
  background: var(--accent-subtle-bg);
  color: var(--accent-primary);
  font-weight: 500;
}

.transactions-pagination-label {
  margin-left: auto;
  font-size: 13px;
  color: var(--text-muted);
  font-variant-numeric: tabular-nums;
}

/* ===== Responsive Styles ===== */

/* --- max-width: 1024px (lg) --- */
@media (max-width: 1024px) {
  /* ReportTable: hide "Accounts Included" column (4th) */
  .report-table-wrapper .data-table th:nth-child(4),
  .report-table-wrapper .data-table td:nth-child(4) {
    display: none;
  }

  /* TransactionsTable (TransactionsPage): hide "Tags" column (6th) */
  [data-testid="transactions-page"] .transactions-table-wrapper .data-table th:nth-child(6),
  [data-testid="transactions-page"] .transactions-table-wrapper .data-table td:nth-child(6) {
    display: none;
  }

  /* DetailedReportTable: hide "Trend" column (6th) */
  .detailed-report-table-wrapper .data-table th:nth-child(6),
  .detailed-report-table-wrapper .data-table td:nth-child(6) {
    display: none;
  }
}

/* --- max-width: 768px (md) --- */
@media (max-width: 768px) {
  /* Navbar compact */
  .navbar {
    padding: 0 12px;
    gap: 12px;
  }

  .navbar-user-name {
    display: none;
  }

  /* Account header stacks */
  .account-header {
    flex-direction: column;
    gap: 12px;
  }

  .account-header-actions {
    width: 100%;
  }

  .account-header-search-input {
    flex: 1;
    width: auto;
  }

  /* Transaction header fields stack */
  .transaction-header-fields {
    flex-direction: column;
  }

  /* Create report dialog body: single column */
  .create-report-dialog-body {
    grid-template-columns: 1fr;
    min-height: auto;
  }

  /* Variance summary: wrap metrics */
  .variance-summary-card {
    flex-wrap: wrap;
    gap: 16px;
    padding: 16px;
  }

  .variance-summary-chart {
    margin-left: 0;
    width: 100%;
  }

  /* Report header row stacks */
  .report-header-row {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }

  .report-header-actions {
    flex-shrink: initial;
  }

  /* Report list header actions wrap */
  .report-list-header-actions {
    flex-wrap: wrap;
  }

  /* ReportTable: also hide "Date Range" column (3rd) */
  .report-table-wrapper .data-table th:nth-child(3),
  .report-table-wrapper .data-table td:nth-child(3) {
    display: none;
  }

  /* TransactionsTable (TransactionsPage): also hide "Account" column (3rd) */
  [data-testid="transactions-page"] .transactions-table-wrapper .data-table th:nth-child(3),
  [data-testid="transactions-page"] .transactions-table-wrapper .data-table td:nth-child(3) {
    display: none;
  }

  /* TransactionsTab (AccountDetail): hide "Direction" column (4th) */
  .account-detail-tabs .transactions-table-wrapper .data-table th:nth-child(4),
  .account-detail-tabs .transactions-table-wrapper .data-table td:nth-child(4) {
    display: none;
  }

  /* DetailedReportTable: also hide "Variance %" (5th) and "Actions" (7th) */
  .detailed-report-table-wrapper .data-table th:nth-child(5),
  .detailed-report-table-wrapper .data-table td:nth-child(5),
  .detailed-report-table-wrapper .data-table th:nth-child(7),
  .detailed-report-table-wrapper .data-table td:nth-child(7) {
    display: none;
  }

  /* Line items grid: tighter columns */
  .line-items-header,
  .line-item-row {
    grid-template-columns: 1fr 100px 100px 36px;
  }

  /* Reporting links wrap */
  .reporting-links-list {
    flex-wrap: wrap;
  }

  /* Page header wraps */
  .page-header {
    padding: 16px;
    flex-wrap: wrap;
    gap: 12px;
  }
}

/* --- max-width: 640px (sm) --- */
@media (max-width: 640px) {
  /* Page titles smaller */
  .page-title,
  .transactions-page-title,
  .report-header-title,
  .account-header-name {
    font-size: 20px;
  }

  /* Section headings smaller */
  .detailed-report-heading,
  .variance-chart-heading {
    font-size: 16px;
  }

  /* Report list header row stacks */
  .report-list-header-row {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }

  .report-list-header-actions {
    width: 100%;
  }

  .report-list-search-input {
    width: 100%;
  }

  /* TransactionsTab (AccountDetail): also hide "Actions" column (5th) */
  .account-detail-tabs .transactions-table-wrapper .data-table th:nth-child(5),
  .account-detail-tabs .transactions-table-wrapper .data-table td:nth-child(5) {
    display: none;
  }

  /* Pagination wraps */
  .transactions-pagination {
    flex-wrap: wrap;
    justify-content: center;
  }

  .transactions-pagination-label {
    margin-left: 0;
    width: 100%;
    text-align: center;
  }

  /* Modal padding */
  .modal-content {
    padding: 16px;
  }

  /* Account card grid: single column */
  [data-testid="accounts-page"] .category-section-content {
    grid-template-columns: 1fr;
  }

  /* Variance summary stacks */
  .variance-summary-card {
    flex-direction: column;
    gap: 12px;
  }

  /* Filter bar items shrink */
  .filter-dropdown {
    min-width: 100px;
  }

  .transactions-page-filter-bar .date-range-field {
    min-width: 100px;
  }

  /* Transactions page header wraps */
  .transactions-page-header {
    flex-wrap: wrap;
    gap: 12px;
  }
}

/* --- max-width: 480px (card mode for tables) --- */
@media (max-width: 480px) {
  /* TransactionsTable (TransactionsPage) card mode */
  [data-testid="transactions-page"] .transactions-table-wrapper .data-table thead {
    display: none;
  }

  [data-testid="transactions-page"] .transactions-table-wrapper .data-table tbody tr {
    display: flex;
    flex-wrap: wrap;
    padding: 12px;
    border-bottom: 1px solid var(--bg-border-color-light);
    gap: 4px 12px;
  }

  [data-testid="transactions-page"] .transactions-table-wrapper .data-table tbody td {
    padding: 2px 0;
    border: none;
    display: block !important;
  }

  /* TransactionsTab (AccountDetail) card mode */
  .account-detail-tabs .transactions-table-wrapper .data-table thead {
    display: none;
  }

  .account-detail-tabs .transactions-table-wrapper .data-table tbody tr {
    display: flex;
    flex-wrap: wrap;
    padding: 12px;
    border-bottom: 1px solid var(--bg-border-color-light);
    gap: 4px 12px;
  }

  .account-detail-tabs .transactions-table-wrapper .data-table tbody td {
    padding: 2px 0;
    border: none;
    display: block !important;
  }

  /* ReportTable card mode */
  .report-table-wrapper .data-table thead {
    display: none;
  }

  .report-table-wrapper .data-table tbody tr {
    display: flex;
    flex-wrap: wrap;
    padding: 12px;
    border-bottom: 1px solid var(--bg-border-color-light);
    gap: 4px 12px;
  }

  .report-table-wrapper .data-table tbody td {
    padding: 2px 0;
    border: none;
    display: block !important;
  }

  /* DetailedReportTable card mode */
  .detailed-report-table-wrapper .data-table thead {
    display: none;
  }

  .detailed-report-table-wrapper .data-table tbody tr {
    display: flex;
    flex-wrap: wrap;
    padding: 12px;
    border-bottom: 1px solid var(--bg-border-color-light);
    gap: 4px 12px;
  }

  .detailed-report-table-wrapper .data-table tbody td {
    padding: 2px 0;
    border: none;
    display: block !important;
  }

  /* Line items: stack on mobile */
  .line-items-header {
    display: none;
  }

  .line-item-row {
    grid-template-columns: 1fr 36px;
    gap: 8px;
  }

  .line-item-row > *:nth-child(1),
  .line-item-row > *:nth-child(2),
  .line-item-row > *:nth-child(3) {
    grid-column: 1;
  }

  .line-item-row > *:nth-child(4) {
    grid-column: 2;
    grid-row: 1 / span 3;
    align-self: center;
  }

  /* Create report dialog: reduce modal max-width */
  .create-report-dialog .modal-content {
    max-width: calc(100% - 24px);
  }
}
